Sketch recognition starter kit
==============================

This sketch recognition kit is a set of C++ code that been programmed to do a
simple form of (not-so-effective) image recognition of flowers.

You will change this code, so it will recognize hand-drawn images ("sketches").

(Note: this starter kit served as the basis for the Sioux Weekend of Code 2013,
which is why you will see the term 'swoc' thrown about in the code).

Prerequisites
-------------

To use this code and participate in the workshop, you will need the following
things:

  * A C++ compiler (GCC, Microsoft Visual C++, Clang)
  * [Boost](http://www.boost.org/)
  * [OpenCV 2](http://opencv.org/)
  * [This set of training images](http://cybertron.cg.tu-berlin.de/eitz/projects/classifysketch/sketches_png.zip) (~550MB)

> Note: These dependencies are large, in the hundreds of MBs, and may require
> long compilation cycles afterwards. It *will* take you the better part of an
> hour to set yourself up, so please prepare and set everything up before
> joining the workshop if you want to be effective.

Compiling
---------

Compilation instructions are in separate files. See [LINUX.md](LINUX.md),
[MAC.md](MAC.md) and [WINDOWS.md](WINDOWS.md) in this directory.

All sources are located in the `cpp` subdirectory. All the images used for
training are located in the `images` subdirectory.

Project Organization
--------------------

The project contains two programs: `trainer` and `recognizer`.

### Trainer

    $ ./trainer [DIRECTORY]

This executable will index all the image files in the given DIRECTORY (default:
`../images`) and traing the recognition algorithm on them. The directry names
in the `images` directory will be used as class labels.

Note that training will take a *long* time. While developing and testing, you
should probably not have too many directories and/or files in there :).

During training, the input set is divided into two subsets in a random 70%/30%
split. The first set is used to train on; the second set is used to validate
the trained model, and to make an estimate of the model's accuracy.

The `trainer` generates two data files containing the learned weights,
`learned-vocabulary.dat` and `learned-svm.dat`, which serve as input to the
second executable.

### Recognizer

    $ recognizer ../path/to/image.jpg

This executable uses the model generated by the `trainer` of the training step
to recognize the class of the images it is given. It accepts one or more images
and shows for each image what class it predicts (i.e., the directory name of
the source images that most closely matches it).

Now what?
---------

Now you're going to rewrite the feature extraction part of the program to
recognize sketches accurately, instead of it recognizing flowers poorly :).

- The current implementation classifies images based on histograms of
  [HSV](http://en.wikipedia.org/wiki/HSL_and_HSV) patches. That's not going to
  work so well in a black&white image :). You'll need to change the feature
  extraction to calculate the [Histogram of Oriented
  Gradients](http://en.wikipedia.org/wiki/Histogram_of_oriented_gradients).

- To make it better: think about scale invariance. What about if someone uses
  the entire image to draw on, what about if someone draws a tiny image in a
  corner?

Good luck, have fun ;)
